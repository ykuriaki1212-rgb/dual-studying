# 📚 ダブル受験スタディダッシュボード 完全セットアップガイド

## 🎯 概要

社会保険労務士試験（2026年8月23日）と行政書士試験（2026年11月8日）のダブル受験をサポートする進捗管理ダッシュボードです。

### ✨ 主な機能

- ✅ 試験日までのカウントダウン表示
- ✅ 全20科目の周回数管理（社労士10科目 + 行政書士10科目）
- ✅ 進捗率のビジュアル表示
- ✅ 現在フェーズの自動判定（集中期/直前期）
- ✅ 行政書士の月次レビュートラッカー（L1/L2/L3）
- ✅ 12ヶ月学習ロードマップ
- ✅ YouTubeおすすめチャンネルリンク集
- ✅ Googleスプレッドシート自動同期
- ✅ マルチデバイス対応（PC/スマホ/タブレット）
- ✅ オフライン時はローカルストレージで動作

---

## 🚀 セットアップ手順

### ⚠️ 重要な前提知識

このセットアップでは以下の手順で進めます：

1. **Googleスプレッドシート作成** → データ保存先
2. **Google Apps Script設定** → API作成
3. **初期化実行** → データ構造作成
4. **Webアプリデプロイ** → API公開
5. **HTMLファイル設定** → ダッシュボード設定
6. **動作確認** → すべて正常に動作するか確認

---

## 📋 Step 1: Googleスプレッドシートの作成

### 1-1. 新規スプレッドシート作成

1. Google Driveにアクセス: https://drive.google.com
2. 「**新規**」→「**Googleスプレッドシート**」→「**空白のスプレッドシート**」
3. 左上のタイトルを「**ダブル受験進捗記録簿**」に変更

### 1-2. Apps Scriptを開く

1. スプレッドシートで「**拡張機能**」→「**Apps Script**」をクリック
2. 新しいタブでApps Scriptエディタが開きます

**重要**: 必ずスプレッドシートから開いてください（スタンドアロンプロジェクトではありません）

---

## 📝 Step 2: Google Apps Scriptの設定

### 2-1. コードの貼り付け

1. Apps Scriptエディタの既存コード（`function myFunction() {...`）を**全て削除**
2. **code.gs** の内容を全てコピー＆ペースト
3. `Ctrl + S`（Mac: `Cmd + S`）で保存

### 2-2. マニフェストファイルの設定（重要！）

1. 左メニューの「**プロジェクトの設定**」（⚙歯車アイコン）をクリック
2. 下にスクロールして「**appsscript.json マニフェスト ファイルをエディタで表示する**」に✓チェック
3. 左メニューに戻ると「**appsscript.json**」が表示されます
4. `appsscript.json` をクリックして開く
5. 既存の内容を全て削除
6. **appsscript.json** の内容を貼り付け：

```json
{
  "timeZone": "Asia/Tokyo",
  "dependencies": {},
  "exceptionLogging": "STACKDRIVER",
  "runtimeVersion": "V8",
  "oauthScopes": [
    "https://www.googleapis.com/auth/spreadsheets",
    "https://www.googleapis.com/auth/script.external_request"
  ]
}
```

7. 保存（`Ctrl + S`）

---

## ⚡ Step 3: 初期化実行

### 3-1. testInit関数の実行

1. 左メニューで「**コード.gs**」に戻る
2. 画面上部の関数セレクタで「**testInit**」を選択
   ```
   [testInit ▼]  ▶実行  デバッグ
   ```
3. 「**▶実行**」ボタンをクリック

### 3-2. 初回認証（重要！）

初回実行時、認証ダイアログが表示されます：

1. **「承認が必要です」ダイアログ**
   - 「**権限を確認**」をクリック

2. **アカウント選択**
   - 使用するGoogleアカウントを選択

3. **「このアプリは確認されていません」と表示される場合**
   - 左下の「**詳細**」をクリック
   - 「**（プロジェクト名）に移動**」をクリック
   
4. **権限の確認**
   - 表示される権限を確認
   - 「**許可**」をクリック

### 3-3. 実行ログの確認

画面下部の「**実行ログ**」タブをクリックして以下が表示されればOK：

```
========================================
✅ 初期化が完了しました！
========================================

📋 作成されたシート:
  1. 進捗データ (37列)
  2. 更新ログ

📝 次のステップ:
  1. スプレッドシートを確認してください
  2. 「デプロイ」→「新しいデプロイ」を実行
  3. アクセス権限を「全員」に設定
  4. デプロイURLをコピー
  5. dashboard.htmlのAPI_URLに貼り付け
```

### 3-4. スプレッドシートの確認

スプレッドシートのタブに戻ると、画面下部に以下の2つのシートが作成されています：

- **進捗データ** （青いヘッダー）
- **更新ログ** （緑のヘッダー）

---

## 🌐 Step 4: Webアプリとしてデプロイ

### 4-1. デプロイの開始

1. Apps Scriptエディタ右上の「**デプロイ**」→「**新しいデプロイ**」

### 4-2. デプロイの種類を選択

1. 左側の「**種類の選択**」（⚙歯車アイコン）をクリック
2. 「**ウェブアプリ**」を選択

### 4-3. デプロイ設定

以下のように設定します：

- **説明**: 「初回デプロイ」など（任意）
- **次のユーザーとして実行**: 「**自分**」を選択
- **アクセスできるユーザー**: 「**全員**」を選択 ← **これが最重要！**

### 4-4. デプロイ実行

1. 「**デプロイ**」ボタンをクリック
2. 再度認証を求められた場合は承認
3. 「**ウェブアプリのURL**」が表示されます

### 4-5. URLをコピー

表示されたURLを**全てコピー**してメモ帳などに保存：

```
https://script.google.com/macros/s/AKfycbz.../exec
```

**重要**: このURLは後で使用するので必ず保存してください

---

## 🎨 Step 5: HTMLファイルの設定

### 5-1. dashboard_final.htmlを開く

テキストエディタ（メモ帳、Visual Studio Code、サクラエディタなど）で開きます。

### 5-2. API URLを設定

1. エディタで検索機能を使って「`YOUR_GOOGLE_APPS_SCRIPT_URL_HERE`」を検索
2. 964行目付近の以下の部分を見つけます：

```javascript
// ===== API設定 =====
// ↓↓↓ デプロイ後のGoogle Apps Script URLに置き換えてください ↓↓↓
const API_URL = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';
```

3. `YOUR_GOOGLE_APPS_SCRIPT_URL_HERE` を、Step 4-5でコピーしたURLに置き換えます：

```javascript
const API_URL = 'https://script.google.com/macros/s/AKfycbz.../exec';
```

4. ファイルを保存

---

## ✅ Step 6: 動作確認

### 6-1. ブラウザで開く

1. `dashboard_final.html` をダブルクリック
2. またはブラウザにドラッグ&ドロップ

### 6-2. 同期ステータスの確認

ページ右上のヘッダーに同期ステータスが表示されます：

- **🟢 同期済み** → 正常動作！
- **🟡 読込中...** → データ読込中（数秒待つ）
- **🔴 読込エラー** → トラブルシューティングを確認
- **⚪ ローカルモード** → API URLが未設定

### 6-3. データ保存テスト

1. 任意の科目の「**＋**」ボタンをクリック
2. 数値が増加することを確認
3. 数秒後に「**🟢 同期済み**」になることを確認
4. スプレッドシートの「進捗データ」シートを開く
5. 該当する科目の数値が更新されていることを確認
6. 「更新ログ」シートに操作履歴が記録されていることを確認

### 6-4. マルチデバイステスト

1. スマホやタブレットで同じHTMLファイルを開く
2. 同じデータが表示されることを確認
3. 片方のデバイスでデータを変更
4. もう一方のデバイスでページをリロード（F5）
5. 変更が反映されていることを確認

---

## 🔧 トラブルシューティング

### ❌ 「🔴 読込エラー」と表示される

#### 原因1: API URLが間違っている

**解決策:**
- `dashboard_final.html` の `API_URL` を確認
- デプロイURLが正しくコピーされているか確認
- URLの最後に余分な空白や改行が入っていないか確認

#### 原因2: デプロイ設定が間違っている

**解決策:**
1. Apps Scriptで「デプロイ」→「デプロイを管理」
2. 「アクセスできるユーザー」が「**全員**」になっているか確認
3. 「自分」になっている場合:
   - 右の歯車アイコンをクリック
   - 「全員」に変更
   - 「デプロイを更新」

#### 原因3: CORSエラー

**解決策:**
- code.gsのfetch設定が正しいか確認
- ブラウザのコンソール（F12）でエラーメッセージを確認

### ❌ testInitで認証エラーが発生

**解決策:**
- [ERROR_SOLUTION.md](./ERROR_SOLUTION.md) を参照
- マニフェストファイル（appsscript.json）が正しく設定されているか確認

### ❌ データが保存されない

#### 確認1: ブラウザのコンソールでエラー確認

1. ブラウザで `F12` キーを押す
2. 「Console」タブを開く
3. エラーメッセージを確認

#### 確認2: Apps Scriptの実行ログ確認

1. Apps Scriptエディタを開く
2. 左メニューの「実行数」をクリック
3. 最近の実行履歴とエラーを確認

#### 確認3: スプレッドシートの更新ログ確認

1. 「更新ログ」シートを開く
2. 最新の操作が記録されているか確認

### ❌ スマホで同期されない

**解決策:**
1. Wi-Fi接続を確認
2. ページをリロード（引っ張って更新）
3. ブラウザのキャッシュをクリア
4. PC側で保存後、10秒程度待ってからスマホでリロード

---

## 📱 スマホでの快適な使い方

### iOS（iPhone/iPad）の場合

1. Safariで `dashboard_final.html` を開く
2. 画面下部の「**共有**」ボタン（□に↑）をタップ
3. 「**ホーム画面に追加**」をタップ
4. 名前を「ダブル受験ダッシュボード」などに設定
5. 「追加」をタップ

→ アプリのようにホーム画面から起動できます！

### Android の場合

1. Chromeで `dashboard_final.html` を開く
2. 右上のメニュー（⋮）をタップ
3. 「**ホーム画面に追加**」をタップ
4. 名前を設定して「追加」

→ アプリのようにホーム画面から起動できます！

---

## 📊 データ構造の説明

### 進捗データシート

| カラム | 説明 |
|--------|------|
| ID | 固定値 "main" |
| 最終更新日時 | ISO 8601形式のタイムスタンプ |
| sr1〜sr10 | 社労士科目の周回数（0以上の整数） |
| gs1〜gs10 | 行政書士科目の周回数（0以上の整数） |
| 2025-12-L1, L2 | 12月のレビュー完了状態（true/false） |
| 2026-01-L1, L2 | 1月のレビュー完了状態 |
| ... | （以下同様） |

### 科目コード一覧

**社労士（sr1〜sr10）:**
- sr1: 労働基準法（目標10回）
- sr2: 労働安全衛生法（目標8回）
- sr3: 労働者災害補償保険法（目標8回）
- sr4: 雇用保険法（目標8回）
- sr5: 労働保険徴収法（目標6回）
- sr6: 健康保険法（目標10回）
- sr7: 国民年金法（目標10回）
- sr8: 厚生年金保険法（目標10回）
- sr9: 労務管理・一般常識（目標6回）
- sr10: 社会保険・一般常識（目標6回）

**行政書士（gs1〜gs10）:**
- gs1: 憲法（目標5回）
- gs2: 行政法総論（目標5回）
- gs3: 行政手続法（目標5回）
- gs4: 行政不服審査法（目標5回）
- gs5: 行政事件訴訟法（目標5回）
- gs6: 国家賠償法・地方自治法（目標5回）
- gs7: 民法（目標5回）
- gs8: 商法・会社法（目標3回）
- gs9: 基礎法学（目標2回）
- gs10: 一般知識（目標3回）

---

## 🎯 学習計画のポイント

### フェーズ別戦略

1. **社労士集中期（2025年12月〜2026年6月）**
   - 平日: 社労士のみ集中
   - 第1日曜: 午前=社労士、午後=行政書士L1復習
   - 第3日曜: 午前=社労士、午後=行政書士L2復習

2. **社労士直前期（2026年7月〜8月23日）**
   - 社労士試験対策に完全集中
   - 過去問演習・模試を繰り返す

3. **行政書士集中期（2026年8月24日〜11月8日）**
   - 行政書士試験対策に完全集中
   - 記述式対策を強化

### 周回数の考え方

- **周回 = テキストを1冊通読すること**
- 1周目: じっくり理解（1ヶ月）
- 2周目: 重要ポイント確認（2週間）
- 3周目以降: 高速復習（1週間）

### レビュートラッカーの使い方

- **L1**: 憲法・行政法の基礎復習
- **L2**: 民法・商法の基礎復習
- **L3**: 問題演習（3月・6月のみ）

---

## 📺 YouTubeチャンネル活用法

ダッシュボード下部には、厳選したYouTubeチャンネルへのリンクがあります。

### 社労士試験チャンネル

1. **アガルート【社労士】最短ルートTV** - 聞き流し・攻略法
2. **フォーサイト 社労士 大大チャンネル** - 過去問解説
3. **資格の大原 社労士24** - 10点アップ講座
4. **LEC東京リーガルマインド** - 科目別講義
5. **たけださん社労士チャンネル** - 本質理解

### 行政書士試験チャンネル

1. **ゆーき大学【行政書士講座】** - 行政法・民法
2. **アガルート【行政書士】** - 豊村講師の解説
3. **伊藤塾 行政書士試験科** - 民法基礎
4. **資格スクエア（森T）** - 固い法律をやわらかく
5. **行政書士 佐藤浩一先生** - 過去問反復

### 活用のコツ

- **通勤時間**: 聞き流し動画（音声のみでOK）
- **休日**: 講義動画を1.5〜2倍速で視聴
- **復習時**: ピンポイント解説を探して視聴

---

## 💾 データのバックアップ

### 定期的なバックアップ推奨

スプレッドシートのデータは定期的にバックアップすることをおすすめします。

1. スプレッドシートを開く
2. 「ファイル」→「コピーを作成」
3. 名前を「ダブル受験進捗記録簿_バックアップ_20260101」などに設定

### CSVエクスポート

Excel等で分析したい場合はCSV形式でエクスポート可能：

1. 「進捗データ」シートを開く
2. 「ファイル」→「ダウンロード」→「カンマ区切り形式（.csv）」

---

## ✅ 完成確認チェックリスト

全て✓がついたらセットアップ完了です！

- [ ] Googleスプレッドシート「ダブル受験進捗記録簿」が作成されている
- [ ] 「進捗データ」と「更新ログ」の2つのシートが存在する
- [ ] Apps Scriptに code.gs のコードが貼り付けられている
- [ ] appsscript.json マニフェストファイルが設定されている
- [ ] testInit関数を実行して「✅ 初期化が完了しました」が表示された
- [ ] Webアプリとしてデプロイされている（アクセス権限: 全員）
- [ ] デプロイURLをコピーした
- [ ] dashboard_final.html の API_URL にURLを貼り付けた
- [ ] HTMLを開いたときに「🟢 同期済み」と表示される
- [ ] 科目の＋ボタンを押すと約1秒後に自動保存される
- [ ] スプレッドシートにデータが保存される
- [ ] PC・スマホで同じデータが表示される

---

## 📚 参考情報

### 試験日程

- **社会保険労務士試験**: 2026年8月23日（日）
- **行政書士試験**: 2026年11月8日（日）

### 学習期間

- 社労士: 2025年12月〜2026年8月（9ヶ月）
- 行政書士: 2025年12月〜2026年11月（12ヶ月）
- ダブル受験総期間: 12ヶ月

### 推奨学習時間

- 社労士: 800〜1000時間
- 行政書士: 600〜800時間
- 合計: 1400〜1800時間

---

## 🆘 サポート

問題が解決しない場合は、以下を確認してください：

1. **ブラウザのコンソール**（F12）でエラーメッセージを確認
2. **Apps Scriptの実行ログ**で処理状況を確認
3. **スプレッドシートの権限設定**を確認
4. **ERROR_SOLUTION.md** のトラブルシューティングを参照

---

**製作**: 2026年度ダブル受験サポートプロジェクト  
**バージョン**: 2.0  
**更新日**: 2026年1月1日

**2026年度、社労士試験と行政書士試験のダブル合格を応援しています！** 🎓📚✨

頑張ってください！
