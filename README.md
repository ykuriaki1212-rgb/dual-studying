# ダブル受験 進捗ダッシュボード

社労士試験 & 行政書士試験の2026年ダブル合格を目指すための進捗管理ダッシュボードです。

## 機能

- 📅 **カウントダウン表示** - 各試験までの残り日数を表示
- 📊 **科目別進捗管理** - 周回数をカウントして進捗を可視化
- ✅ **月次レビュートラッカー** - 行政書士の月次復習状況を記録
- 🗓️ **12ヶ月ロードマップ** - 学習計画を一覧表示
- 📺 **おすすめYouTubeチャンネル** - 学習に役立つ動画リンク集
- ☁️ **クラウド同期** - Googleスプレッドシートでデータを同期

## ファイル構成

```
dashboard_gas/
├── dashboard.html    # メインのHTMLダッシュボード
├── Code.gs           # Google Apps Script
└── README.md         # このファイル
```

---

## セットアップ手順

### Step 1: Googleスプレッドシートを作成

1. [Google スプレッドシート](https://sheets.google.com) を開く
2. 「空白」をクリックして新しいスプレッドシートを作成
3. スプレッドシート名を「ダブル受験ダッシュボード」などに変更

### Step 2: Google Apps Scriptを設定

1. スプレッドシートのメニューから **拡張機能** → **Apps Script** をクリック
2. 既存のコードをすべて削除
3. `Code.gs` の内容をすべてコピー＆ペースト
4. **Ctrl+S** (または **Cmd+S**) で保存
5. プロジェクト名を「ダッシュボードAPI」などに変更

### Step 3: 初期化を実行

1. Apps Scriptエディタで、上部の関数選択ドロップダウンから `initializeSpreadsheet` を選択
2. ▶️ 実行ボタンをクリック
3. 初回実行時は権限の承認が必要：
   - 「権限を確認」をクリック
   - Googleアカウントを選択
   - 「詳細」→「〇〇（安全ではないページ）に移動」をクリック
   - 「許可」をクリック
4. スプレッドシートに「ダッシュボードデータ」シートが作成されていることを確認

### Step 4: ウェブアプリとしてデプロイ

1. Apps Scriptエディタで **デプロイ** → **新しいデプロイ** をクリック
2. ⚙️ 歯車アイコンをクリック → **ウェブアプリ** を選択
3. 以下の設定を行う：
   - **説明**: 「ダッシュボードAPI v1」など
   - **次のユーザーとして実行**: 「自分」
   - **アクセスできるユーザー**: 「自分のみ」（または必要に応じて選択）
4. **デプロイ** をクリック
5. 表示された **ウェブアプリのURL** をコピー

> ⚠️ **重要**: URLは `https://script.google.com/macros/s/xxxxx/exec` の形式です

### Step 5: HTMLファイルにAPIを設定

#### 方法A: ブラウザで設定（推奨）

1. `dashboard.html` をブラウザで開く
2. 右上の「ローカルモード」をクリック
3. Step 4でコピーしたURLを貼り付け
4. 「保存」をクリック

#### 方法B: HTMLファイルを直接編集

1. `dashboard.html` を開いて、API_URLの保存処理部分にURLを設定

---

## 使い方

### ダッシュボードを開く

`dashboard.html` をブラウザで開くだけでOKです。

- **PC**: ダブルクリックで開く
- **スマホ**: 
  - Google Driveにアップロードして開く
  - Webサーバーにアップロードして開く
  - ローカルサーバーを立てて開く

### 進捗を記録する

1. 「科目別 周回進捗」カードで科目を選択
2. ＋ボタンで周回数を増加、−ボタンで減少
3. データは自動的に保存されます

### レビューを記録する

1. 「月次レビュートラッカー」でL1/L2/L3ボタンをクリック
2. 完了した項目は緑色に変わります
3. もう一度クリックで未完了に戻せます

---

## スマホとPCで同期する方法

### 方法1: Google Driveで共有（推奨）

1. `dashboard.html` をGoogle Driveにアップロード
2. PCとスマホの両方からGoogle Drive経由でアクセス
3. 同じGoogleスプレッドシートに接続されるため自動同期

### 方法2: Webサーバーにホスト

1. 無料ホスティングサービス（GitHub Pages, Netlify等）にアップロード
2. URLをスマホのホーム画面に追加

### 方法3: PWAとして利用

HTMLファイルにService Workerを追加してPWA化も可能です。

---

## トラブルシューティング

### 「読込エラー」が表示される

1. API URLが正しく設定されているか確認
2. Apps Scriptが正しくデプロイされているか確認
3. 権限が正しく設定されているか確認

### 「タイムアウト」が表示される

- ネットワーク接続を確認
- しばらく待ってから再試行

### データが同期されない

1. ブラウザの開発者ツール（F12）でエラーを確認
2. Apps Scriptのログを確認（表示 → 実行ログ）

### ローカルモードで動作している

1. 右上の「ローカルモード」をクリック
2. 正しいAPI URLを入力して保存

---

## カスタマイズ

### 科目名や目標周回数を変更

`dashboard.html` の `studyData` オブジェクトを編集：

```javascript
const studyData = {
  sharoushi: {
    subjects: [
      { id: 'sr1', name: '労働基準法', target: 10 },
      // 他の科目...
    ]
  },
  // ...
};
```

### 試験日を変更

`updateCountdowns` 関数内の日付を変更：

```javascript
document.getElementById('sharoushi-days').textContent = getDaysUntil('2026-08-23');
document.getElementById('gyousei-days').textContent = getDaysUntil('2026-11-08');
```

### フェーズを変更

`phases` 配列を編集：

```javascript
const phases = [
  { name: '社労士集中期', start: '2025-12-01', end: '2026-06-30', ... },
  // ...
];
```

---

## セキュリティについて

- データはGoogleアカウントで保護されたスプレッドシートに保存
- API URLは公開しないように注意
- 「アクセスできるユーザー」を「自分のみ」に設定することを推奨

---

## ライセンス

個人利用は自由です。商用利用の場合はご連絡ください。

---

## 更新履歴

- **v1.0** (2025-01) - 初版リリース
  - Googleスプレッドシート連携
  - PC/スマホ同期対応
  - 設定モーダル追加
